/* empty css                *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import{o as q,k as p,r as i,D as C,U as w,a0 as P,a3 as k,f as a,W as r,u as o,a6 as K,F as M,a7 as U,E as x}from"./vue-00c40460.js";import{_ as F,a as $,u as R,b as L}from"./index-26070284.js";import{_ as W}from"./loading-36b8aaa3.js";import{_ as A}from"./repeattable-7b6036d6.js";import{aV as G}from"./api-c9fafc5b.js";import{F as J,I as Q,o as X,p as Y,B as Z,q as ee}from"./antDesignVue-51b926d5.js";import"./index-02c0cd83.js";import"./_plugin-vue_export-helper-c27b6911.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./xijs-654632ec.js";import"./axios-4a70c6fc.js";const te={key:0},oe={style:{"text-align":"right"},id:"bottomDom"},ke={__name:"javs",setup(ae){const{throttle:O}=R();q(()=>{window.addEventListener("scroll",()=>{O(T(),1e4)})});let _=p(0);const T=()=>{let t=document.documentElement.scrollTop||document.body.scrollTop,l=document.documentElement.clientHeight||document.body.clientHeight,u=document.documentElement.scrollHeight||document.body.scrollHeight;t>=_.value&&t+l>=u&&v(e.currentPage+1),_.value=t},g=p(),e=i({name:"",currentPage:1,pageSizes:50}),n=i({data:[],total:0});let m=p("1");const s=()=>{m.value="1",n.total=0,n.data=[]},V=()=>{s(),g.value.resetFields(),e.currentPage=1,e.pageSizes=50,c()},d=t=>{s(),e.name=e.name.replace(/\s*/g,""),e.currentPage=1,e.pageSizes=50,c()};C(()=>{c()});let f=i([]),B=i([{title:"封面",dataIndex:"cover",key:"cover"},{title:"姓名",dataIndex:"name",key:"name"},{title:"操作",width:200,key:"xianmanwang"}]);const c=()=>{G(e).then(t=>{n.data=t.data.data,n.total=t.data.total,m.value="0",f=n.data})},D=t=>{H(t)},h=({page:t,pageSize:l})=>{s(),e.currentPage=t,e.pageSizes=l,c()},b=({current:t,size:l})=>{s(),e.currentPage=t,e.pageSizes=l},v=t=>{s(),e.currentPage=t,c()},E=t=>{switch(t){case 1:document.querySelector("#bottomDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break;case 2:document.querySelector("#submitDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break}},H=t=>{window.open(t,"_blank")};return(t,l)=>{const u=Q,S=X,y=Y,z=Z,I=ee,N=J;return w(),P(M,null,[k("div",null,[a(N,{id:"submitDom",model:o(e),ref_key:"formRef",ref:g,name:"basic","label-col":{span:4},"wrapper-col":{span:20},autocomplete:"off",onFinish:d},{default:r(()=>[a(I,null,{default:r(()=>[a(y,{span:6},{default:r(()=>[a(S,{label:"姓 名",name:"name"},{default:r(()=>[a(u,{value:o(e).name,"onUpdate:value":l[0]||(l[0]=j=>o(e).name=j),onKeydown:U(d,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),a(y,{span:6},{default:r(()=>[a(S,{"wrapper-col":{offset:4,span:20}},{default:r(()=>[a(z,{type:"primary","html-type":"submit"},{default:r(()=>[x("提交")]),_:1}),a(z,{style:{"margin-left":"10px"},onClick:V},{default:r(()=>[x("重置")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),a(F,{total:o(n).total,currentPage:o(e).currentPage,pageSizes:o(e).pageSizes,onOnpagechange:h,onOnsizechange:b},null,8,["total","currentPage","pageSizes"]),o(n).data.length!==0?(w(),P("div",te,[a(A,{dataSource:o(f),columns:o(B),onOntablecolumnurl:D},null,8,["dataSource","columns"])])):K("",!0),a(W,{state:o(m)},null,8,["state"]),k("div",oe,[a(F,{total:o(n).total,currentPage:o(e).currentPage,pageSizes:o(e).pageSizes,onOnpagechange:h,onOnsizechange:b},null,8,["total","currentPage","pageSizes"])]),a($,{total:o(n).total,currentPage:o(e).currentPage,pageSizes:o(e).pageSizes,onOnpageturning:v},null,8,["total","currentPage","pageSizes"]),a(L,{onOnTo:E})],64)}}};export{ke as default};
