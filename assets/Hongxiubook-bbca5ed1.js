/* empty css                *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import{o as M,k as d,r as c,D as R,$ as U,U as w,a0 as v,a3 as P,f as n,W as s,u as o,a6 as j,F as A,a7 as L,E as B}from"./vue-00c40460.js";import{_ as I,a as W,u as G,b as J}from"./index-26070284.js";import{_ as Q}from"./loading-36b8aaa3.js";import{_ as X}from"./repeattable-7b6036d6.js";import{aa as Y}from"./api-c9fafc5b.js";import{x as Z}from"./xiaoshuo-ce270a98.js";import{F as ee,I as te,o as oe,p as ne,B as ae,q as le}from"./antDesignVue-51b926d5.js";import"./index-02c0cd83.js";import"./_plugin-vue_export-helper-c27b6911.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./xijs-654632ec.js";import"./axios-4a70c6fc.js";const se={key:0},re={style:{"text-align":"right"},id:"bottomDom"},He={__name:"Hongxiubook",setup(ie){const{throttle:E}=G();M(()=>{window.addEventListener("scroll",()=>{E(F(),1e4)})});let g=d(0);const F=()=>{let e=document.documentElement.scrollTop||document.body.scrollTop,l=document.documentElement.clientHeight||document.body.clientHeight,p=document.documentElement.scrollHeight||document.body.scrollHeight;e>=g.value&&e+l>=p&&z(t.currentPage+1),g.value=e},_=d(),t=c({title:"",currentPage:1,pageSizes:50}),a=c({data:[],total:0});let u=d("1");const r=()=>{u.value="1",a.total=0,a.data=[]},H=()=>{r(),_.value.resetFields(),t.currentPage=1,t.pageSizes=50,i()},f=e=>{r(),t.title=t.title.replace(/\s*/g,""),t.currentPage=1,t.pageSizes=50,i()};R(()=>{i()});let h=c([]),O=c([{title:"小说",width:200,dataIndex:"title",key:"title"},{title:"封面",dataIndex:"bj",key:"bj"},{title:"作者",dataIndex:"zuozhe",width:120,key:"zuozhe"},{title:"字数",dataIndex:"zishu",width:120,key:"zishu"},{title:"简介",dataIndex:"content",key:"content"},{title:"操作",width:120,key:"hongxiu"}]);const i=()=>{Y(t).then(e=>{a.data=e.data.data,a.total=e.data.total,u.value="0",h=a.data})},T=e=>{$(e)},D=U(),m=Z(),V=e=>{m.title=e.title,m.frompath="/ppyuxianwei",m.content=e.content.replace(/&#xE2BA;/g,"").replace(/&#xE2BB;/g,""),D.push("/yuedu")},b=({page:e,pageSize:l})=>{r(),t.currentPage=e,t.pageSizes=l,i()},y=({current:e,size:l})=>{r(),t.currentPage=e,t.pageSizes=l},z=e=>{r(),t.currentPage=e,i()},N=e=>{switch(e){case 1:document.querySelector("#bottomDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break;case 2:document.querySelector("#submitDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break}},$=e=>{window.open(e,"_blank")};return(e,l)=>{const p=te,S=oe,k=ne,x=ae,q=le,C=ee;return w(),v(A,null,[P("div",null,[n(C,{id:"submitDom",model:o(t),ref_key:"formRef",ref:_,name:"basic","label-col":{span:4},"wrapper-col":{span:20},autocomplete:"off",onFinish:f},{default:s(()=>[n(q,null,{default:s(()=>[n(k,{span:6},{default:s(()=>[n(S,{label:"标 题",name:"title"},{default:s(()=>[n(p,{value:o(t).title,"onUpdate:value":l[0]||(l[0]=K=>o(t).title=K),onKeydown:L(f,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),n(k,{span:6},{default:s(()=>[n(S,{"wrapper-col":{offset:4,span:20}},{default:s(()=>[n(x,{type:"primary","html-type":"submit"},{default:s(()=>[B("提交")]),_:1}),n(x,{style:{"margin-left":"10px"},onClick:H},{default:s(()=>[B("重置")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),n(I,{total:o(a).total,currentPage:o(t).currentPage,pageSizes:o(t).pageSizes,onOnpagechange:b,onOnsizechange:y},null,8,["total","currentPage","pageSizes"]),o(a).data.length!==0?(w(),v("div",se,[n(X,{dataSource:o(h),columns:o(O),onOntablecolumn:T,onOntableyuedu:V},null,8,["dataSource","columns"])])):j("",!0),n(Q,{state:o(u)},null,8,["state"]),P("div",re,[n(I,{total:o(a).total,currentPage:o(t).currentPage,pageSizes:o(t).pageSizes,onOnpagechange:b,onOnsizechange:y},null,8,["total","currentPage","pageSizes"])]),n(W,{total:o(a).total,currentPage:o(t).currentPage,pageSizes:o(t).pageSizes,onOnpageturning:z},null,8,["total","currentPage","pageSizes"]),n(J,{onOnTo:N})],64)}}};export{He as default};
