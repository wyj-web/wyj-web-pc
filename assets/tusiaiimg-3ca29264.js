/* empty css                *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import{o as G,k as S,r as w,D as J,U as c,a0 as d,a3 as f,f as o,W as a,u as t,F as z,a1 as F,a6 as B,a7 as D,E as p,V as x,a2 as Q}from"./vue-00c40460.js";import{_ as O,a as X,u as Y,b as Z}from"./index-3a912928.js";import{_ as ee}from"./repeatcard-5cb001b2.js";import{_ as te}from"./loading-36b8aaa3.js";import{_ as oe}from"./previewimg-487d508d.js";import{w as ne}from"./api-c9fafc5b.js";import{F as ae,n as le,I as se,o as re,p as ie,B as ce,q as ue,t as me}from"./antDesignVue-51b926d5.js";import{T as pe}from"./TagOutlined-bdc20c53.js";import"./index-fe2c9608.js";import"./_plugin-vue_export-helper-c27b6911.js";/* empty css              */import"./axios-4a70c6fc.js";const _e={key:0,style:{"column-count":"5","column-gap":"15px"}},ge={style:{margin:"10px 0 10px 10px"}},de={style:{"text-align":"right"},id:"bottomDom"},fe={style:{"column-count":"3","column-gap":"15px"}},He={__name:"tusiaiimg",setup(ve){const{throttle:V}=Y();G(()=>{window.addEventListener("scroll",()=>{V($(),1e4)})});let P=S(0);const $=()=>{let n=document.documentElement.scrollTop||document.body.scrollTop,s=document.documentElement.clientHeight||document.body.clientHeight,_=document.documentElement.scrollHeight||document.body.scrollHeight;n>=P.value&&n+s>=_&&C(e.currentPage+1),P.value=n},N=S(),e=w({name:"",projectName:"",currentPage:1,pageSizes:50}),r=w({data:[],total:0});let v=S("1");const u=()=>{v.value="1",r.total=0,r.data=[]},E=()=>{u(),N.value.resetFields(),e.currentPage=1,e.pageSizes=50,m()},h=n=>{u(),e.name=e.name.replace(/\s*/g,""),e.projectName=e.projectName.replace(/\s*/g,""),e.currentPage=1,e.pageSizes=50,m()};J(()=>{m()});const m=()=>{ne(e).then(n=>{r.data=n.data.data,r.total=n.data.total,v.value="0"})},T=({page:n,pageSize:s})=>{u(),e.currentPage=n,e.pageSizes=s,m()},j=({current:n,size:s})=>{u(),e.currentPage=n,e.pageSizes=s},C=n=>{u(),e.currentPage=n,m()},H=n=>{switch(n){case 1:document.querySelector("#bottomDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break;case 2:document.querySelector("#submitDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break}},I=n=>{window.open(n,"_blank")},i=w({state:!1,title:"",imgs:[]}),K=n=>{i.state=!0,i.imgs=n,i.title="查看详情图片"},M=()=>{i.imgs=[]};return(n,s)=>{const _=se,b=re,y=ie,g=ce,U=ue,q=ae,L=me,R=le;return c(),d(z,null,[f("div",null,[o(q,{id:"submitDom",model:t(e),ref_key:"formRef",ref:N,name:"basic","label-col":{span:4},"wrapper-col":{span:22},autocomplete:"off",onFinish:h},{default:a(()=>[o(U,null,{default:a(()=>[o(y,{span:6},{default:a(()=>[o(b,{label:"标 题",name:"name"},{default:a(()=>[o(_,{value:t(e).name,"onUpdate:value":s[0]||(s[0]=l=>t(e).name=l),onKeydown:D(h,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),o(y,{span:6},{default:a(()=>[o(b,{label:"简 介",name:"projectName"},{default:a(()=>[o(_,{value:t(e).projectName,"onUpdate:value":s[1]||(s[1]=l=>t(e).projectName=l),onKeydown:D(h,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),o(y,{span:6},{default:a(()=>[o(b,{"wrapper-col":{offset:2,span:22}},{default:a(()=>[o(g,{type:"primary","html-type":"submit"},{default:a(()=>[p("提交")]),_:1}),o(g,{style:{"margin-left":"10px"},onClick:E},{default:a(()=>[p("重置")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),o(O,{total:t(r).total,currentPage:t(e).currentPage,pageSizes:t(e).pageSizes,onOnpagechange:T,onOnsizechange:j},null,8,["total","currentPage","pageSizes"]),t(r).data.length!==0?(c(),d("div",_e,[(c(!0),d(z,null,F(t(r).data,(l,k)=>(c(),x(ee,{key:k,item:{...l,bj:l.owner.avatar,title:l.projectName}},{type:a(()=>[f("p",ge,[o(L,{color:"purple"},{icon:a(()=>[o(t(pe))]),default:a(()=>[p(" "+Q(l.name),1)]),_:2},1024)])]),button:a(()=>[l.cover.length!==0?(c(),x(g,{key:0,type:"dashed",style:{margin:"10px 0 10px 10px"},onClick:W=>K(l.cover.map(A=>A.url))},{default:a(()=>[p("查看图片 ")]),_:2},1032,["onClick"])):B("",!0),o(g,{type:"dashed",style:{margin:"0 0 10px 10px"},onClick:W=>I(`https://tusi.art/models/${l.id}`)},{default:a(()=>[p("跳转详情")]),_:2},1032,["onClick"])]),_:2},1032,["item"]))),128))])):B("",!0),o(te,{state:t(v)},null,8,["state"]),f("div",de,[o(O,{total:t(r).total,currentPage:t(e).currentPage,pageSizes:t(e).pageSizes,onOnpagechange:T,onOnsizechange:j},null,8,["total","currentPage","pageSizes"])]),o(X,{total:t(r).total,currentPage:t(e).currentPage,pageSizes:t(e).pageSizes,onOnpageturning:C},null,8,["total","currentPage","pageSizes"]),o(Z,{onOnTo:H}),o(R,{visible:t(i).state,"onUpdate:visible":s[2]||(s[2]=l=>t(i).state=l),footer:null,width:"80%",onCancel:M,title:t(i).title},{default:a(()=>[f("div",fe,[(c(!0),d(z,null,F(t(i).imgs,(l,k)=>(c(),x(oe,{key:k,item:l},null,8,["item"]))),128))])]),_:1},8,["visible","title"])],64)}}};export{He as default};
