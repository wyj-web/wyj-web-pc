import{_ as nt}from"./repeattable-7b6036d6.js";import{_ as lt}from"./previewhtml-3a13dc5e.js";/* empty css                *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import{o as st,k as h,r as d,D as rt,U as _,a0 as b,a3 as p,f as e,W as a,u as t,F as y,a1 as O,a6 as it,V as B,E as i,a2 as k,a7 as ct}from"./vue-00c40460.js";import{_ as q,a as ut,u as mt,b as _t}from"./index-26070284.js";import{_ as pt}from"./repeatcard-4b10691f.js";import{_ as dt}from"./loading-36b8aaa3.js";import{_ as gt}from"./previewimg-da910ecb.js";import{ak as ft,al as vt}from"./api-c9fafc5b.js";import{F as bt,n as ht,u as yt,r as kt,s as xt,o as St,p as wt,q as Pt,I as zt,B as Ct,t as It}from"./antDesignVue-51b926d5.js";import{P as Dt}from"./PayCircleOutlined-b50a9d4d.js";import{S as Ot}from"./ShoppingCartOutlined-6c5eb205.js";/* empty css              *//* empty css              */import"./index-02c0cd83.js";/* empty css              */import"./xijs-654632ec.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./axios-4a70c6fc.js";const Bt={key:0,style:{"column-count":"5","column-gap":"15px"}},Ft={style:{margin:"10px 0 10px 10px"}},Ht={style:{margin:"10px 0 10px 10px"}},Vt={style:{margin:"10px 0 10px 10px"}},$t={style:{"text-align":"right"},id:"bottomDom"},Mt={style:{"column-count":"4","column-gap":"15px"}},me={__name:"allclassmall",setup(Tt){const{throttle:K}=mt();st(()=>{window.addEventListener("scroll",()=>{K(N(),1e4)})});let F=h(0);const N=()=>{let l=document.documentElement.scrollTop||document.body.scrollTop,s=document.documentElement.clientHeight||document.body.clientHeight,w=document.documentElement.scrollHeight||document.body.scrollHeight;l>=F.value&&l+s>=w&&(T(o.currentPage+1),document.querySelector("#submitDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})),F.value=l},H=h(),o=d({classname:"",goods_name:"",currentPage:1,pageSizes:50}),r=d({data:[],total:0});let x=h("1");const g=()=>{x.value="1",r.total=0,r.data=[]},L=()=>{g(),H.value.resetFields(),o.currentPage=1,o.pageSizes=50,f()},V=l=>{g(),o.classname=o.classname.replace(/\s*/g,""),o.goods_name=o.goods_name.replace(/\s*/g,""),o.currentPage=1,o.pageSizes=50,f()};rt(()=>{f(),R()});const f=()=>{ft(o).then(l=>{r.data=l.data.data,r.total=l.data.total,x.value="0"})};let S=h([]);const R=()=>{vt().then(l=>{S.value=l.data.data,S.value.unshift({cat_name:"全部"})})},$=({page:l,pageSize:s})=>{g(),o.currentPage=l,o.pageSizes=s,f()},M=({current:l,size:s})=>{g(),o.currentPage=l,o.pageSizes=s},T=l=>{g(),o.currentPage=l,f()},j=l=>{switch(l){case 1:document.querySelector("#bottomDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break;case 2:document.querySelector("#submitDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break}},c=d({state:!1,title:"",imgs:[]}),W=l=>{c.state=!0,c.imgs=l,c.title="查看详情图片"},A=()=>{c.imgs=[]},u=d({state:!1,title:"",html:""}),G=()=>{u.html=""},J=l=>{u.state=!0,u.html=l.goods_content.goods_introduce,u.title="查看H5"};let Q=d([{title:"goods_id",dataIndex:"goods_id",key:"goods_id"},{title:"add_price",dataIndex:"add_price",key:"add_price"},{title:"attr_name",dataIndex:"attr_name",key:"attr_name"},{title:"attr_sel",dataIndex:"attr_sel",key:"attr_sel"},{title:"attr_vals",dataIndex:"attr_vals",key:"attr_vals"},{title:"attr_value",dataIndex:"attr_value",key:"attr_value"},{title:"attr_write",dataIndex:"attr_write",key:"attr_write"}]);const m=d({state:!1,title:"",skus:[]}),X=()=>{m.skus=[]},Y=l=>{m.state=!0,m.skus=l.goods_content.attrs,m.title="查看SKU"};return(l,s)=>{const w=kt,Z=xt,P=St,z=wt,U=Pt,tt=zt,v=Ct,et=bt,C=It,I=ht,at=lt,ot=nt;return _(),b(y,null,[p("div",null,[e(et,{model:t(o),ref_key:"formRef",ref:H,name:"basic","label-col":{span:4},"wrapper-col":{span:20},autocomplete:"off",onFinish:V},{default:a(()=>[e(U,null,{default:a(()=>[e(z,{span:24},{default:a(()=>[e(P,{"label-col":{span:1},"wrapper-col":{span:22},label:"分 类",name:"classname"},{default:a(()=>[e(Z,{value:t(o).classname,"onUpdate:value":s[0]||(s[0]=n=>t(o).classname=n),"button-style":"solid"},{default:a(()=>[(_(!0),b(y,null,O(t(S),n=>(_(),B(w,{style:{margin:"0 10px 10px 0"},key:n.cat_name,value:n.cat_name==="全部"?"":n.cat_name},{default:a(()=>[i(k(n.cat_name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),e(U,{id:"submitDom"},{default:a(()=>[e(z,{span:6},{default:a(()=>[e(P,{label:"名 称",name:"goods_name"},{default:a(()=>[e(tt,{value:t(o).goods_name,"onUpdate:value":s[1]||(s[1]=n=>t(o).goods_name=n),onKeydown:ct(V,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),e(z,{span:6},{default:a(()=>[e(P,{"wrapper-col":{offset:2,span:22}},{default:a(()=>[e(v,{type:"primary","html-type":"submit"},{default:a(()=>[i("提交")]),_:1}),e(v,{style:{"margin-left":"10px"},onClick:L},{default:a(()=>[i("重置")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),e(q,{total:t(r).total,currentPage:t(o).currentPage,pageSizes:t(o).pageSizes,onOnpagechange:$,onOnsizechange:M},null,8,["total","currentPage","pageSizes"]),t(r).data.length!==0?(_(),b("div",Bt,[(_(!0),b(y,null,O(t(r).data,(n,D)=>(_(),B(pt,{key:D,item:{...n,bj:n.goods_big_logo,title:n.goods_name}},{type:a(()=>[p("p",Ft,[e(C,{color:"orange"},{icon:a(()=>[e(t(yt))]),default:a(()=>[i(" "+k(n.classname),1)]),_:2},1024)])]),price:a(()=>[p("p",Ht,[e(C,{color:"green"},{icon:a(()=>[e(t(Dt))]),default:a(()=>[i(" "+k(n.goods_price),1)]),_:2},1024)])]),nums:a(()=>[p("p",Vt,[e(C,{color:"purple"},{icon:a(()=>[e(t(Ot))]),default:a(()=>[i(" "+k(n.goods_number),1)]),_:2},1024)])]),button:a(()=>[e(v,{type:"dashed",style:{margin:"0 0 10px 10px"},onClick:E=>W(n.downloadImgs)},{default:a(()=>[i("查看图片 ")]),_:2},1032,["onClick"]),e(v,{type:"dashed",style:{margin:"0 0 10px 10px"},onClick:E=>J(n)},{default:a(()=>[i("查看网页 ")]),_:2},1032,["onClick"]),e(v,{type:"dashed",style:{margin:"0 0 10px 10px"},onClick:E=>Y(n)},{default:a(()=>[i("查看规格 ")]),_:2},1032,["onClick"])]),_:2},1032,["item"]))),128))])):it("",!0),e(dt,{state:t(x)},null,8,["state"]),p("div",$t,[e(q,{total:t(r).total,currentPage:t(o).currentPage,pageSizes:t(o).pageSizes,onOnpagechange:$,onOnsizechange:M},null,8,["total","currentPage","pageSizes"])]),e(ut,{total:t(r).total,currentPage:t(o).currentPage,pageSizes:t(o).pageSizes,onOnpageturning:T},null,8,["total","currentPage","pageSizes"]),e(_t,{onOnTo:j}),e(I,{visible:t(c).state,"onUpdate:visible":s[2]||(s[2]=n=>t(c).state=n),footer:null,width:"80%",onCancel:A,title:t(c).title},{default:a(()=>[p("div",Mt,[(_(!0),b(y,null,O(t(c).imgs,(n,D)=>(_(),B(gt,{key:D,item:n},null,8,["item"]))),128))])]),_:1},8,["visible","title"]),e(I,{visible:t(u).state,"onUpdate:visible":s[3]||(s[3]=n=>t(u).state=n),footer:null,width:"55%",onCancel:G,title:t(u).title},{default:a(()=>[p("div",null,[e(at,{html:t(u).html},null,8,["html"])])]),_:1},8,["visible","title"]),e(I,{visible:t(m).state,"onUpdate:visible":s[4]||(s[4]=n=>t(m).state=n),footer:null,width:"80%",onCancel:X,title:t(m).title},{default:a(()=>[p("div",null,[e(ot,{dataSource:t(m).skus,columns:t(Q)},null,8,["dataSource","columns"])])]),_:1},8,["visible","title"])],64)}}};export{me as default};
