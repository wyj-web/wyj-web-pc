/* empty css                *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import{o as q,k as d,r as u,D as K,U as k,a0 as x,a3 as F,f as n,W as r,u as o,a6 as j,F as R,a7 as L,E as O}from"./vue-00c40460.js";import{_ as T,a as W,u as A,b as G}from"./index-3a912928.js";import{_ as J}from"./loading-36b8aaa3.js";import{_ as Q}from"./repeattable-a7533255.js";import{_ as X}from"./previewvideo-13ecb223.js";import{u as Y}from"./api-c9fafc5b.js";import{F as Z,n as ee,I as te,o as oe,p as ne,B as ae,q as le}from"./antDesignVue-51b926d5.js";import"./index-fe2c9608.js";import"./_plugin-vue_export-helper-c27b6911.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./xijs-654632ec.js";import"./axios-4a70c6fc.js";const re={key:0},se={style:{"text-align":"right"},id:"bottomDom"},Ee={__name:"chengrenvideo",setup(ie){const{throttle:B}=A();q(()=>{window.addEventListener("scroll",()=>{B(D(),1e4)})});let g=d(0);const D=()=>{let t=document.documentElement.scrollTop||document.body.scrollTop,a=document.documentElement.clientHeight||document.body.clientHeight,p=document.documentElement.scrollHeight||document.body.scrollHeight;t>=g.value&&t+a>=p&&y(e.currentPage+1),g.value=t},f=d(),e=u({title:"",currentPage:1,pageSizes:50}),l=u({data:[],total:0});let m=d("1");const i=()=>{m.value="1",l.total=0,l.data=[]},E=()=>{i(),f.value.resetFields(),e.currentPage=1,e.pageSizes=50,c()},b=t=>{i(),e.title=e.title.replace(/\s*/g,""),e.currentPage=1,e.pageSizes=50,c()};K(()=>{c()});let h=u([]),H=u([{title:"封面",dataIndex:"bj",key:"bj"},{title:"标题",dataIndex:"title",key:"title"},{title:"操作",width:220,key:"actionvideo"}]);const c=()=>{Y(e).then(t=>{l.data=t.data.data,l.total=t.data.total,m.value="0",h=l.data})},I=t=>{s.state=!0,s.url=t,s.title="播放视频"},s=u({state:!1,title:"",url:""}),V=()=>{s.url=""},v=({page:t,pageSize:a})=>{i(),e.currentPage=t,e.pageSizes=a,c()},S=({current:t,size:a})=>{i(),e.currentPage=t,e.pageSizes=a},y=t=>{i(),e.currentPage=t,c()},C=t=>{switch(t){case 1:document.querySelector("#bottomDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break;case 2:document.querySelector("#submitDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break}},M=t=>{window.open(t,"_blank")};return(t,a)=>{const p=te,z=oe,w=ne,P=ae,N=le,U=Z,$=ee;return k(),x(R,null,[F("div",null,[n(U,{id:"submitDom",model:o(e),ref_key:"formRef",ref:f,name:"basic","label-col":{span:4},"wrapper-col":{span:20},autocomplete:"off",onFinish:b},{default:r(()=>[n(N,null,{default:r(()=>[n(w,{span:6},{default:r(()=>[n(z,{label:"标 题",name:"title"},{default:r(()=>[n(p,{value:o(e).title,"onUpdate:value":a[0]||(a[0]=_=>o(e).title=_),onKeydown:L(b,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),n(w,{span:6},{default:r(()=>[n(z,{"wrapper-col":{offset:4,span:20}},{default:r(()=>[n(P,{type:"primary","html-type":"submit"},{default:r(()=>[O("提交")]),_:1}),n(P,{style:{"margin-left":"10px"},onClick:E},{default:r(()=>[O("重置")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),n(T,{total:o(l).total,currentPage:o(e).currentPage,pageSizes:o(e).pageSizes,onOnpagechange:v,onOnsizechange:S},null,8,["total","currentPage","pageSizes"]),o(l).data.length!==0?(k(),x("div",re,[n(Q,{dataSource:o(h),columns:o(H),onOntablecolumn:I,onOnurlopen:M},null,8,["dataSource","columns"])])):j("",!0),n(J,{state:o(m)},null,8,["state"]),F("div",se,[n(T,{total:o(l).total,currentPage:o(e).currentPage,pageSizes:o(e).pageSizes,onOnpagechange:v,onOnsizechange:S},null,8,["total","currentPage","pageSizes"])]),n(W,{total:o(l).total,currentPage:o(e).currentPage,pageSizes:o(e).pageSizes,onOnpageturning:y},null,8,["total","currentPage","pageSizes"]),n(G,{onOnTo:C}),n($,{visible:o(s).state,"onUpdate:visible":a[1]||(a[1]=_=>o(s).state=_),footer:null,width:"60%",onCancel:V,title:o(s).title},{default:r(()=>[n(X,{url:o(s).url},null,8,["url"])]),_:1},8,["visible","title"])],64)}}};export{Ee as default};
