/* empty css                *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import{o as M,k as h,r as m,D as R,$ as L,U as P,a0 as k,a3 as F,f as o,W as s,u as n,a6 as W,F as j,a7 as O,E as T}from"./vue-00c40460.js";import{_ as B,a as A,u as G,b as J}from"./index-3a912928.js";import{_ as Q}from"./loading-36b8aaa3.js";import{_ as X}from"./repeattable-a7533255.js";import{a2 as Y}from"./api-c9fafc5b.js";import{x as Z}from"./xiaoshuo-ce270a98.js";import{F as ee,I as te,o as oe,p as ne,B as ae,q as se}from"./antDesignVue-51b926d5.js";import"./index-fe2c9608.js";import"./_plugin-vue_export-helper-c27b6911.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./xijs-654632ec.js";import"./axios-4a70c6fc.js";const le={key:0},re={style:{"text-align":"right"},id:"bottomDom"},De={__name:"sisexiaoshuos",setup(ie){const{throttle:D}=G();M(()=>{window.addEventListener("scroll",()=>{D(E(),1e4)})});let b=h(0);const E=()=>{let t=document.documentElement.scrollTop||document.body.scrollTop,a=document.documentElement.clientHeight||document.body.clientHeight,c=document.documentElement.scrollHeight||document.body.scrollHeight;t>=b.value&&t+a>=c&&w(e.currentPage+1),b.value=t},y=h(),e=m({fenlei:"",title:"",currentPage:1,pageSizes:50}),l=m({data:[],total:0});let p=h("1");const r=()=>{p.value="1",l.total=0,l.data=[]},H=()=>{r(),y.value.resetFields(),e.currentPage=1,e.pageSizes=50,i()},_=t=>{r(),e.fenlei=e.fenlei.replace(/\s*/g,""),e.title=e.title.replace(/\s*/g,""),e.currentPage=1,e.pageSizes=50,i()};R(()=>{e.title=u.sisexiaoshuos_parameter,i()});let S=m([]),I=m([{title:"小说",dataIndex:"title",key:"title"},{title:"分类",dataIndex:"fenlei",key:"fenlei"},{title:"操作",width:220,key:"sisexiaoshuos"}]);const i=()=>{Y(e).then(t=>{l.data=t.data.data,l.total=t.data.total,p.value="0",S=l.data})},V=t=>{$(t)},K=L(),u=Z(),N=t=>{u.title=t.title,u.frompath="/sisexiaoshuos",u.content=t.content,u.sisexiaoshuos_parameter=e.title.replace(/\s*/g,""),K.push("/yuedu")},v=({page:t,pageSize:a})=>{r(),e.currentPage=t,e.pageSizes=a,i()},x=({current:t,size:a})=>{r(),e.currentPage=t,e.pageSizes=a},w=t=>{r(),e.currentPage=t,i()},U=t=>{switch(t){case 1:document.querySelector("#bottomDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break;case 2:document.querySelector("#submitDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break}},$=t=>{window.open(t,"_blank")};return(t,a)=>{const c=te,d=oe,g=ne,z=ae,q=se,C=ee;return P(),k(j,null,[F("div",null,[o(C,{id:"submitDom",model:n(e),ref_key:"formRef",ref:y,name:"basic","label-col":{span:4},"wrapper-col":{span:20},autocomplete:"off",onFinish:_},{default:s(()=>[o(q,null,{default:s(()=>[o(g,{span:6},{default:s(()=>[o(d,{label:"分 类",name:"fenlei"},{default:s(()=>[o(c,{value:n(e).fenlei,"onUpdate:value":a[0]||(a[0]=f=>n(e).fenlei=f),onKeydown:O(_,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),o(g,{span:6},{default:s(()=>[o(d,{label:"标 题",name:"title"},{default:s(()=>[o(c,{value:n(e).title,"onUpdate:value":a[1]||(a[1]=f=>n(e).title=f),onKeydown:O(_,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),o(g,{span:6},{default:s(()=>[o(d,{"wrapper-col":{offset:4,span:20}},{default:s(()=>[o(z,{type:"primary","html-type":"submit"},{default:s(()=>[T("提交")]),_:1}),o(z,{style:{"margin-left":"10px"},onClick:H},{default:s(()=>[T("重置")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),o(B,{total:n(l).total,currentPage:n(e).currentPage,pageSizes:n(e).pageSizes,onOnpagechange:v,onOnsizechange:x},null,8,["total","currentPage","pageSizes"]),n(l).data.length!==0?(P(),k("div",le,[o(X,{dataSource:n(S),columns:n(I),onOntablecolumn:V,onOntableyuedu:N},null,8,["dataSource","columns"])])):W("",!0),o(Q,{state:n(p)},null,8,["state"]),F("div",re,[o(B,{total:n(l).total,currentPage:n(e).currentPage,pageSizes:n(e).pageSizes,onOnpagechange:v,onOnsizechange:x},null,8,["total","currentPage","pageSizes"])]),o(A,{total:n(l).total,currentPage:n(e).currentPage,pageSizes:n(e).pageSizes,onOnpageturning:w},null,8,["total","currentPage","pageSizes"]),o(J,{onOnTo:U})],64)}}};export{De as default};
