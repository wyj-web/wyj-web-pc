/* empty css                *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import{o as N,k as d,r as x,D as q,$ as K,U as p,a0 as f,a3 as F,f as n,W as r,u as a,F as O,a1 as R,a6 as j,a7 as J,E as h,V as L}from"./vue-00c40460.js";import{_ as T,a as U,u as W,b as A}from"./index-3a912928.js";import{_ as G}from"./repeatcard-5cb001b2.js";import{_ as Q}from"./loading-36b8aaa3.js";import{ao as X}from"./api-c9fafc5b.js";import{m as Y}from"./manhua-dfaac4eb.js";import{F as Z,I as ee,o as te,p as oe,B as ne,q as ae}from"./antDesignVue-51b926d5.js";import"./index-fe2c9608.js";import"./_plugin-vue_export-helper-c27b6911.js";/* empty css              */import"./axios-4a70c6fc.js";const re={key:0,style:{"column-count":"5","column-gap":"15px"}},le={style:{"text-align":"right"},id:"bottomDom"},xe={__name:"Picyy",setup(se){const{throttle:B}=W();N(()=>{window.addEventListener("scroll",()=>{B(V(),1e4)})});let y=d(0);const V=()=>{let t=document.documentElement.scrollTop||document.body.scrollTop,o=document.documentElement.clientHeight||document.body.clientHeight,u=document.documentElement.scrollHeight||document.body.scrollHeight;t>=y.value&&t+o>=u&&P(e.currentPage+1),y.value=t},b=d(),e=x({title:"",currentPage:1,pageSizes:50}),l=x({data:[],total:0});let _=d("1");const c=()=>{_.value="1",l.total=0,l.data=[]},D=()=>{c(),b.value.resetFields(),e.currentPage=1,e.pageSizes=50,i()},S=t=>{c(),e.title=e.title.replace(/\s*/g,""),e.currentPage=1,e.pageSizes=50,i()};q(()=>{e.title=s.Jpmanhua_parameter,i()});const i=()=>{X(e).then(t=>{l.data=t.data.data.map(o=>({...o,keyword:o.keyword==null?[]:o.keyword.split(",").filter(u=>u!=="")})),l.total=t.data.total,_.value="0"})},k=({page:t,pageSize:o})=>{c(),e.currentPage=t,e.pageSizes=o,i()},v=({current:t,size:o})=>{c(),e.currentPage=t,e.pageSizes=o},P=t=>{c(),e.currentPage=t,i()},E=t=>{switch(t){case 1:document.querySelector("#bottomDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break;case 2:document.querySelector("#submitDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break}},H=K(),s=Y(),C=t=>{s.title=t.title,s.frompath="/picyy",s.content=[];for(let o in t.imgs)s.content.push({title:Object.keys(t.imgs[o])[0],imagelist:Object.values(t.imgs[o])[0]});s.Jpmanhua_parameter=e.title,H.push("/manhua")};return(t,o)=>{const u=ee,z=te,w=oe,g=ne,$=ae,I=Z;return p(),f(O,null,[F("div",null,[n(I,{id:"submitDom",model:a(e),ref_key:"formRef",ref:b,name:"basic","label-col":{span:4},"wrapper-col":{span:20},autocomplete:"off",onFinish:S},{default:r(()=>[n($,null,{default:r(()=>[n(w,{span:6},{default:r(()=>[n(z,{label:"标 题",name:"title"},{default:r(()=>[n(u,{value:a(e).title,"onUpdate:value":o[0]||(o[0]=m=>a(e).title=m),onKeydown:J(S,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),n(w,{span:6},{default:r(()=>[n(z,{"wrapper-col":{offset:4,span:20}},{default:r(()=>[n(g,{type:"primary","html-type":"submit"},{default:r(()=>[h("提交")]),_:1}),n(g,{style:{"margin-left":"10px"},onClick:D},{default:r(()=>[h("重置")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),n(T,{total:a(l).total,currentPage:a(e).currentPage,pageSizes:a(e).pageSizes,onOnpagechange:k,onOnsizechange:v},null,8,["total","currentPage","pageSizes"]),a(l).data.length!==0?(p(),f("div",re,[(p(!0),f(O,null,R(a(l).data,(m,M)=>(p(),L(G,{key:M,item:m},{button:r(()=>[n(g,{type:"dashed",style:{margin:"10px 0 10px 10px"},onClick:ce=>C(m)},{default:r(()=>[h("点击阅读 ")]),_:2},1032,["onClick"])]),_:2},1032,["item"]))),128))])):j("",!0),n(Q,{state:a(_)},null,8,["state"]),F("div",le,[n(T,{total:a(l).total,currentPage:a(e).currentPage,pageSizes:a(e).pageSizes,onOnpagechange:k,onOnsizechange:v},null,8,["total","currentPage","pageSizes"])]),n(U,{total:a(l).total,currentPage:a(e).currentPage,pageSizes:a(e).pageSizes,onOnpageturning:P},null,8,["total","currentPage","pageSizes"]),n(A,{onOnTo:E})],64)}}};export{xe as default};
