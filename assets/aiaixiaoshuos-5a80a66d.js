/* empty css                *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import{o as C,k as h,r as m,D as M,$ as R,U as z,a0 as P,a3 as I,f as o,W as l,u as a,a6 as L,F as W,a7 as F,E as O}from"./vue-00c40460.js";import{_ as T,a as A,u as G,b as J}from"./index-26070284.js";import{_ as Q}from"./loading-36b8aaa3.js";import{_ as X}from"./repeattable-7b6036d6.js";import{a7 as Y}from"./api-c9fafc5b.js";import{x as Z}from"./xiaoshuo-ce270a98.js";import{F as ee,I as te,o as oe,p as ae,B as ne,q as le}from"./antDesignVue-51b926d5.js";import"./index-02c0cd83.js";import"./_plugin-vue_export-helper-c27b6911.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./xijs-654632ec.js";import"./axios-4a70c6fc.js";const ie={key:0},se={style:{"text-align":"right"},id:"bottomDom"},Be={__name:"aiaixiaoshuos",setup(re){const{throttle:B}=G();C(()=>{window.addEventListener("scroll",()=>{B(D(),1e4)})});let b=h(0);const D=()=>{let t=document.documentElement.scrollTop||document.body.scrollTop,n=document.documentElement.clientHeight||document.body.clientHeight,c=document.documentElement.scrollHeight||document.body.scrollHeight;t>=b.value&&t+n>=c&&x(e.currentPage+1),b.value=t},y=h(),e=m({fenlei:"",title:"",currentPage:1,pageSizes:50}),i=m({data:[],total:0});let p=h("1");const s=()=>{p.value="1",i.total=0,i.data=[]},E=()=>{s(),y.value.resetFields(),e.currentPage=1,e.pageSizes=50,r()},d=t=>{s(),e.fenlei=e.fenlei.replace(/\s*/g,""),e.title=e.title.replace(/\s*/g,""),e.currentPage=1,e.pageSizes=50,r()};M(()=>{e.title=u.aiaixiaoshuos_parameter,r()});let S=m([]),H=m([{title:"小说",width:220,dataIndex:"title",key:"title"},{title:"分类",width:80,dataIndex:"fenlei",key:"fenlei"},{title:"观看",width:80,dataIndex:"renqi",key:"renqi"},{title:"时间",width:120,dataIndex:"time",key:"time"},{title:"简介",dataIndex:"jianjie",key:"jianjie"},{title:"操作",width:220,key:"sisexiaoshuos"}]);const r=()=>{Y(e).then(t=>{i.data=t.data.data,i.total=t.data.total,p.value="0",S=i.data})},V=t=>{N(t)},q=R(),u=Z(),K=t=>{u.title=t.title,u.frompath="/aiaixiaoshuos",u.content=t.content,u.aiaixiaoshuos_parameter=e.title.replace(/\s*/g,""),q.push("/yuedu")},v=({page:t,pageSize:n})=>{s(),e.currentPage=t,e.pageSizes=n,r()},w=({current:t,size:n})=>{s(),e.currentPage=t,e.pageSizes=n},x=t=>{s(),e.currentPage=t,r()},j=t=>{switch(t){case 1:document.querySelector("#bottomDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break;case 2:document.querySelector("#submitDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break}},N=t=>{window.open(t,"_blank")};return(t,n)=>{const c=te,_=oe,g=ae,k=ne,U=le,$=ee;return z(),P(W,null,[I("div",null,[o($,{id:"submitDom",model:a(e),ref_key:"formRef",ref:y,name:"basic","label-col":{span:4},"wrapper-col":{span:20},autocomplete:"off",onFinish:d},{default:l(()=>[o(U,null,{default:l(()=>[o(g,{span:6},{default:l(()=>[o(_,{label:"分 类",name:"fenlei"},{default:l(()=>[o(c,{value:a(e).fenlei,"onUpdate:value":n[0]||(n[0]=f=>a(e).fenlei=f),onKeydown:F(d,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),o(g,{span:6},{default:l(()=>[o(_,{label:"标 题",name:"title"},{default:l(()=>[o(c,{value:a(e).title,"onUpdate:value":n[1]||(n[1]=f=>a(e).title=f),onKeydown:F(d,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),o(g,{span:6},{default:l(()=>[o(_,{"wrapper-col":{offset:4,span:20}},{default:l(()=>[o(k,{type:"primary","html-type":"submit"},{default:l(()=>[O("提交")]),_:1}),o(k,{style:{"margin-left":"10px"},onClick:E},{default:l(()=>[O("重置")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),o(T,{total:a(i).total,currentPage:a(e).currentPage,pageSizes:a(e).pageSizes,onOnpagechange:v,onOnsizechange:w},null,8,["total","currentPage","pageSizes"]),a(i).data.length!==0?(z(),P("div",ie,[o(X,{dataSource:a(S),columns:a(H),onOntablecolumn:V,onOntableyuedu:K},null,8,["dataSource","columns"])])):L("",!0),o(Q,{state:a(p)},null,8,["state"]),I("div",se,[o(T,{total:a(i).total,currentPage:a(e).currentPage,pageSizes:a(e).pageSizes,onOnpagechange:v,onOnsizechange:w},null,8,["total","currentPage","pageSizes"])]),o(A,{total:a(i).total,currentPage:a(e).currentPage,pageSizes:a(e).pageSizes,onOnpageturning:x},null,8,["total","currentPage","pageSizes"]),o(J,{onOnTo:j})],64)}}};export{Be as default};
