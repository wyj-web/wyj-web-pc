/* empty css                *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import{o as j,k as f,r as u,D as q,U as k,a0 as P,a3 as x,f as n,W as l,u as o,a6 as C,F as M,a7 as F,E as O}from"./vue-00c40460.js";import{_ as I,a as $,u as R,b as L}from"./index-26070284.js";import{_ as W}from"./loading-36b8aaa3.js";import{_ as A}from"./repeattable-7b6036d6.js";import{aO as G}from"./api-c9fafc5b.js";import{F as J,I as Q,o as X,p as Y,B as Z,q as ee}from"./antDesignVue-51b926d5.js";import"./index-02c0cd83.js";import"./_plugin-vue_export-helper-c27b6911.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./xijs-654632ec.js";import"./axios-4a70c6fc.js";const te={key:0},ne={style:{"text-align":"right"},id:"bottomDom"},Pe={__name:"daohangjihe",setup(oe){const{throttle:T}=R();j(()=>{window.addEventListener("scroll",()=>{T(B(),1e4)})});let h=f(0);const B=()=>{let t=document.documentElement.scrollTop||document.body.scrollTop,a=document.documentElement.clientHeight||document.body.clientHeight,i=document.documentElement.scrollHeight||document.body.scrollHeight;t>=h.value&&t+a>=i&&w(e.currentPage+1),h.value=t},b=f(),e=u({name:"",content:"",currentPage:1,pageSizes:50}),r=u({data:[],total:0});let m=f("1");const s=()=>{m.value="1",r.total=0,r.data=[]},D=()=>{s(),b.value.resetFields(),e.currentPage=1,e.pageSizes=50,c()},p=t=>{s(),e.name=e.name.replace(/\s*/g,""),e.content=e.content.replace(/\s*/g,""),e.currentPage=1,e.pageSizes=50,c()};q(()=>{c()});let S=u([]),E=u([{title:"ico",dataIndex:"ico",key:"ico"},{title:"名称",dataIndex:"name",key:"name"},{title:"内容",dataIndex:"content",key:"content"},{title:"操作",width:200,key:"xianmanwang"}]);const c=()=>{G(e).then(t=>{r.data=t.data.data,r.total=t.data.total,m.value="0",S=r.data})},H=t=>{K(t)},v=({page:t,pageSize:a})=>{s(),e.currentPage=t,e.pageSizes=a,c()},y=({current:t,size:a})=>{s(),e.currentPage=t,e.pageSizes=a},w=t=>{s(),e.currentPage=t,c()},V=t=>{switch(t){case 1:document.querySelector("#bottomDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break;case 2:document.querySelector("#submitDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break}},K=t=>{window.open(t,"_blank")};return(t,a)=>{const i=Q,d=X,g=Y,z=Z,N=ee,U=J;return k(),P(M,null,[x("div",null,[n(U,{id:"submitDom",model:o(e),ref_key:"formRef",ref:b,name:"basic","label-col":{span:4},"wrapper-col":{span:20},autocomplete:"off",onFinish:p},{default:l(()=>[n(N,null,{default:l(()=>[n(g,{span:6},{default:l(()=>[n(d,{label:"标 题",name:"name"},{default:l(()=>[n(i,{value:o(e).name,"onUpdate:value":a[0]||(a[0]=_=>o(e).name=_),onKeydown:F(p,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),n(g,{span:6},{default:l(()=>[n(d,{label:"内 容",name:"content"},{default:l(()=>[n(i,{value:o(e).content,"onUpdate:value":a[1]||(a[1]=_=>o(e).content=_),onKeydown:F(p,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),n(g,{span:6},{default:l(()=>[n(d,{"wrapper-col":{offset:4,span:20}},{default:l(()=>[n(z,{type:"primary","html-type":"submit"},{default:l(()=>[O("提交")]),_:1}),n(z,{style:{"margin-left":"10px"},onClick:D},{default:l(()=>[O("重置")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),n(I,{total:o(r).total,currentPage:o(e).currentPage,pageSizes:o(e).pageSizes,onOnpagechange:v,onOnsizechange:y},null,8,["total","currentPage","pageSizes"]),o(r).data.length!==0?(k(),P("div",te,[n(A,{dataSource:o(S),columns:o(E),onOntablecolumnurl:H},null,8,["dataSource","columns"])])):C("",!0),n(W,{state:o(m)},null,8,["state"]),x("div",ne,[n(I,{total:o(r).total,currentPage:o(e).currentPage,pageSizes:o(e).pageSizes,onOnpagechange:v,onOnsizechange:y},null,8,["total","currentPage","pageSizes"])]),n($,{total:o(r).total,currentPage:o(e).currentPage,pageSizes:o(e).pageSizes,onOnpageturning:w},null,8,["total","currentPage","pageSizes"]),n(L,{onOnTo:V})],64)}}};export{Pe as default};
