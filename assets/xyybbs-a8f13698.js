/* empty css                *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import{o as N,k as b,r as p,D as $,U as x,a0 as j,a3 as F,f as o,W as l,u as t,a6 as q,F as R,a7 as h,E as I}from"./vue-00c40460.js";import{_ as K,a as L,u as W,b as A}from"./index-3a912928.js";import{_ as G}from"./loading-36b8aaa3.js";import{_ as J}from"./repeattable-a7533255.js";import{_ as Q}from"./previewvideo-13ecb223.js";import{x as X}from"./api-c9fafc5b.js";import{F as Y,n as Z,I as ee,o as te,p as oe,B as ae,q as ne}from"./antDesignVue-51b926d5.js";import"./index-fe2c9608.js";import"./_plugin-vue_export-helper-c27b6911.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./xijs-654632ec.js";import"./axios-4a70c6fc.js";const le={key:0},se={style:{"text-align":"right"},id:"bottomDom"},Oe={__name:"xyybbs",setup(ie){const{throttle:O}=W();N(()=>{window.addEventListener("scroll",()=>{O(T(),1e4)})});let v=b(0);const T=()=>{let a=document.documentElement.scrollTop||document.body.scrollTop,n=document.documentElement.clientHeight||document.body.clientHeight,m=document.documentElement.scrollHeight||document.body.scrollHeight;a>=v.value&&a+n>=m&&P(e.currentPage+1),v.value=a},y=b(),e=p({title:"",jieshao:"",lianluo:"",currentPage:1,pageSizes:50}),s=p({data:[],total:0});let f=b("1");const u=()=>{f.value="1",s.total=0,s.data=[]},B=()=>{u(),y.value.resetFields(),e.currentPage=1,e.pageSizes=50,c()},d=a=>{u(),e.title=e.title.replace(/\s*/g,""),e.jieshao=e.jieshao.replace(/\s*/g,""),e.lianluo=e.lianluo.replace(/\s*/g,""),e.currentPage=1,e.pageSizes=50,c()};$(()=>{c()});let S=p([]),D=p([{title:"介绍",dataIndex:"jieshao",key:"jieshao",width:200},{title:"联络",dataIndex:"lianluo",key:"lianluo",width:400},{title:"标题",dataIndex:"title",key:"title"},{title:"操作",width:100,key:"action"}]);const c=()=>{X(e).then(a=>{s.data=a.data.data,s.total=a.data.total,f.value="0",S=s.data})},E=a=>{i.state=!0,i.url=a,i.title="播放视频"},i=p({state:!1,title:"",url:""}),H=()=>{i.url=""},w=({page:a,pageSize:n})=>{u(),e.currentPage=a,e.pageSizes=n,c()},z=({current:a,size:n})=>{u(),e.currentPage=a,e.pageSizes=n},P=a=>{u(),e.currentPage=a,c()},V=a=>{switch(a){case 1:document.querySelector("#bottomDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break;case 2:document.querySelector("#submitDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break}};return(a,n)=>{const m=ee,_=te,g=oe,k=ae,U=ne,C=Y,M=Z;return x(),j(R,null,[F("div",null,[o(C,{id:"submitDom",model:t(e),ref_key:"formRef",ref:y,name:"basic","label-col":{span:4},"wrapper-col":{span:20},autocomplete:"off",onFinish:d},{default:l(()=>[o(U,null,{default:l(()=>[o(g,{span:6},{default:l(()=>[o(_,{label:"标 题",name:"title"},{default:l(()=>[o(m,{value:t(e).title,"onUpdate:value":n[0]||(n[0]=r=>t(e).title=r),onKeydown:h(d,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),o(g,{span:6},{default:l(()=>[o(_,{label:"介 绍",name:"jieshao"},{default:l(()=>[o(m,{value:t(e).jieshao,"onUpdate:value":n[1]||(n[1]=r=>t(e).jieshao=r),onKeydown:h(d,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),o(g,{span:6},{default:l(()=>[o(_,{label:"联 络",name:"lianluo"},{default:l(()=>[o(m,{value:t(e).lianluo,"onUpdate:value":n[2]||(n[2]=r=>t(e).lianluo=r),onKeydown:h(d,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),o(g,{span:6},{default:l(()=>[o(_,{"wrapper-col":{offset:4,span:20}},{default:l(()=>[o(k,{type:"primary","html-type":"submit"},{default:l(()=>[I("提交")]),_:1}),o(k,{style:{"margin-left":"10px"},onClick:B},{default:l(()=>[I("重置")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),o(K,{total:t(s).total,currentPage:t(e).currentPage,pageSizes:t(e).pageSizes,onOnpagechange:w,onOnsizechange:z},null,8,["total","currentPage","pageSizes"]),t(s).data.length!==0?(x(),j("div",le,[o(J,{dataSource:t(S),columns:t(D),onOntablecolumn:E},null,8,["dataSource","columns"])])):q("",!0),o(G,{state:t(f)},null,8,["state"]),F("div",se,[o(K,{total:t(s).total,currentPage:t(e).currentPage,pageSizes:t(e).pageSizes,onOnpagechange:w,onOnsizechange:z},null,8,["total","currentPage","pageSizes"])]),o(L,{total:t(s).total,currentPage:t(e).currentPage,pageSizes:t(e).pageSizes,onOnpageturning:P},null,8,["total","currentPage","pageSizes"]),o(A,{onOnTo:V}),o(M,{visible:t(i).state,"onUpdate:visible":n[3]||(n[3]=r=>t(i).state=r),footer:null,width:"60%",onCancel:H,title:t(i).title},{default:l(()=>[o(Q,{url:t(i).url},null,8,["url"])]),_:1},8,["visible","title"])],64)}}};export{Oe as default};
