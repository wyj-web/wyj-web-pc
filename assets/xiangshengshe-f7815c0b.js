/* empty css                *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import{o as q,k as f,r as g,D as C,U as k,a0 as P,a3 as x,f as t,W as l,u as a,a6 as M,F as $,a7 as h,E as F}from"./vue-00c40460.js";import{_ as D,a as R,u as L,b as W}from"./index-26070284.js";import{_ as j}from"./loading-36b8aaa3.js";import{l as A,_ as G}from"./repeatyintable-7459e445.js";import{ac as J}from"./api-c9fafc5b.js";import{F as Q,I as X,o as Y,p as Z,B as ee,q as te}from"./antDesignVue-51b926d5.js";import"./index-02c0cd83.js";import"./_plugin-vue_export-helper-c27b6911.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./previewaudio-47089e24.js";import"./axios-4a70c6fc.js";const ne={key:0},ae={style:{"text-align":"right"},id:"bottomDom"},Pe={__name:"xiangshengshe",setup(oe){const{throttle:I}=L();q(()=>{window.addEventListener("scroll",()=>{I(K(),1e4)})});let b=f(0);const K=()=>{let n=document.documentElement.scrollTop||document.body.scrollTop,o=document.documentElement.clientHeight||document.body.clientHeight,r=document.documentElement.scrollHeight||document.body.scrollHeight;n>=b.value&&n+o>=r&&S(e.currentPage+1),b.value=n},y=f(),e=g({title:"",name:"",content:"",currentPage:1,pageSizes:50}),s=g({data:[],total:0});let _=f("1");const i=()=>{_.value="1",s.total=0,s.data=[]},O=()=>{i(),y.value.resetFields(),e.currentPage=1,e.pageSizes=50,c()},m=n=>{i(),e.title=e.title.replace(/\s*/g,""),e.name=e.name.replace(/\s*/g,""),e.content=e.content.replace(/\s*/g,""),e.currentPage=1,e.pageSizes=50,c()};C(()=>{c()}),g([]);let T=g([{title:"标题",dataIndex:"title",width:300,key:"title"},{title:"演员",dataIndex:"name",width:150,key:"name"},{title:"简介",dataIndex:"content",key:"content"},{title:"操作",width:220,key:"xiangshengshe"}]);const B=A(),c=()=>{J(e).then(n=>{s.data=n.data.data,s.total=n.data.total,_.value="0",B.yinpinData=s.data.map(o=>({...o,media:o.media.map(r=>({...r,state:!1}))}))})},E=n=>{V(n)},v=({page:n,pageSize:o})=>{i(),e.currentPage=n,e.pageSizes=o,c()},w=({current:n,size:o})=>{i(),e.currentPage=n,e.pageSizes=o},S=n=>{i(),e.currentPage=n,c()},H=n=>{switch(n){case 1:document.querySelector("#bottomDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break;case 2:document.querySelector("#submitDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break}},V=n=>{window.open(n,"_blank")};return(n,o)=>{const r=X,p=Y,d=Z,z=ee,U=te,N=Q;return k(),P($,null,[x("div",null,[t(N,{id:"submitDom",model:a(e),ref_key:"formRef",ref:y,name:"basic","label-col":{span:4},"wrapper-col":{span:20},autocomplete:"off",onFinish:m},{default:l(()=>[t(U,null,{default:l(()=>[t(d,{span:6},{default:l(()=>[t(p,{label:"标 题",name:"title"},{default:l(()=>[t(r,{value:a(e).title,"onUpdate:value":o[0]||(o[0]=u=>a(e).title=u),onKeydown:h(m,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),t(d,{span:6},{default:l(()=>[t(p,{label:"演 员",name:"name"},{default:l(()=>[t(r,{value:a(e).name,"onUpdate:value":o[1]||(o[1]=u=>a(e).name=u),onKeydown:h(m,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),t(d,{span:6},{default:l(()=>[t(p,{label:"简 介",name:"content"},{default:l(()=>[t(r,{value:a(e).content,"onUpdate:value":o[2]||(o[2]=u=>a(e).content=u),onKeydown:h(m,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),t(d,{span:6},{default:l(()=>[t(p,{"wrapper-col":{offset:4,span:20}},{default:l(()=>[t(z,{type:"primary","html-type":"submit"},{default:l(()=>[F("提交")]),_:1}),t(z,{style:{"margin-left":"10px"},onClick:O},{default:l(()=>[F("重置")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),t(D,{total:a(s).total,currentPage:a(e).currentPage,pageSizes:a(e).pageSizes,onOnpagechange:v,onOnsizechange:w},null,8,["total","currentPage","pageSizes"]),a(s).data.length!==0?(k(),P("div",ne,[t(G,{columns:a(T),onOntablecolumnurl:E},null,8,["columns"])])):M("",!0),t(j,{state:a(_)},null,8,["state"]),x("div",ae,[t(D,{total:a(s).total,currentPage:a(e).currentPage,pageSizes:a(e).pageSizes,onOnpagechange:v,onOnsizechange:w},null,8,["total","currentPage","pageSizes"])]),t(R,{total:a(s).total,currentPage:a(e).currentPage,pageSizes:a(e).pageSizes,onOnpageturning:S},null,8,["total","currentPage","pageSizes"]),t(W,{onOnTo:H})],64)}}};export{Pe as default};
