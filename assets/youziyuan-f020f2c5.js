/* empty css                *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import{o as U,k as f,r as g,D as C,U as P,a0 as x,a3 as q,f as t,W as l,u as a,a6 as M,F as $,a7 as y,E as I}from"./vue-00c40460.js";import{_ as F,a as R,u as L,b as W}from"./index-3a912928.js";import{_ as j}from"./loading-36b8aaa3.js";import{_ as A}from"./repeattable-a7533255.js";import{aN as G}from"./api-c9fafc5b.js";import{F as J,I as Q,o as X,p as Y,B as Z,q as ee}from"./antDesignVue-51b926d5.js";import"./index-fe2c9608.js";import"./_plugin-vue_export-helper-c27b6911.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./xijs-654632ec.js";import"./axios-4a70c6fc.js";const te={key:0},ne={style:{"text-align":"right"},id:"bottomDom"},Pe={__name:"youziyuan",setup(ae){const{throttle:K}=L();U(()=>{window.addEventListener("scroll",()=>{K(O(),1e4)})});let b=f(0);const O=()=>{let n=document.documentElement.scrollTop||document.body.scrollTop,o=document.documentElement.clientHeight||document.body.clientHeight,u=document.documentElement.scrollHeight||document.body.scrollHeight;n>=b.value&&n+o>=u&&z(e.currentPage+1),b.value=n},v=f(),e=g({name:"",fenlei:"",diqu:"",currentPage:1,pageSizes:50}),r=g({data:[],total:0});let _=f("1");const i=()=>{_.value="1",r.total=0,r.data=[]},T=()=>{i(),v.value.resetFields(),e.currentPage=1,e.pageSizes=50,s()},m=n=>{i(),e.name=e.name.replace(/\s*/g,""),e.fenlei=e.fenlei.replace(/\s*/g,""),e.diqu=e.diqu.replace(/\s*/g,""),e.currentPage=1,e.pageSizes=50,s()};C(()=>{s()});let h=g([]),B=g([{title:"名称",dataIndex:"name",key:"name"},{title:"分类",dataIndex:"fenlei",key:"fenlei"},{title:"地区",dataIndex:"diqu",key:"diqu"},{title:"评分",dataIndex:"pingfen",key:"pingfen"},{title:"时间",dataIndex:"time",key:"times"},{title:"操作",width:200,key:"xianmanwang"}]);const s=()=>{G(e).then(n=>{r.data=n.data.data,r.total=n.data.total,_.value="0",h=r.data})},D=n=>{H(n)},S=({page:n,pageSize:o})=>{i(),e.currentPage=n,e.pageSizes=o,s()},w=({current:n,size:o})=>{i(),e.currentPage=n,e.pageSizes=o},z=n=>{i(),e.currentPage=n,s()},E=n=>{switch(n){case 1:document.querySelector("#bottomDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break;case 2:document.querySelector("#submitDom").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});break}},H=n=>{window.open(n,"_blank")};return(n,o)=>{const u=Q,p=X,d=Y,k=Z,V=ee,N=J;return P(),x($,null,[q("div",null,[t(N,{id:"submitDom",model:a(e),ref_key:"formRef",ref:v,name:"basic","label-col":{span:4},"wrapper-col":{span:20},autocomplete:"off",onFinish:m},{default:l(()=>[t(V,null,{default:l(()=>[t(d,{span:6},{default:l(()=>[t(p,{label:"标 题",name:"name"},{default:l(()=>[t(u,{value:a(e).name,"onUpdate:value":o[0]||(o[0]=c=>a(e).name=c),onKeydown:y(m,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),t(d,{span:6},{default:l(()=>[t(p,{label:"分 类",name:"fenlei"},{default:l(()=>[t(u,{value:a(e).fenlei,"onUpdate:value":o[1]||(o[1]=c=>a(e).fenlei=c),onKeydown:y(m,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),t(d,{span:6},{default:l(()=>[t(p,{label:"地 区",name:"diqu"},{default:l(()=>[t(u,{value:a(e).diqu,"onUpdate:value":o[2]||(o[2]=c=>a(e).diqu=c),onKeydown:y(m,["enter","native"])},null,8,["value","onKeydown"])]),_:1})]),_:1}),t(d,{span:6},{default:l(()=>[t(p,{"wrapper-col":{offset:4,span:20}},{default:l(()=>[t(k,{type:"primary","html-type":"submit"},{default:l(()=>[I("提交")]),_:1}),t(k,{style:{"margin-left":"10px"},onClick:T},{default:l(()=>[I("重置")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),t(F,{total:a(r).total,currentPage:a(e).currentPage,pageSizes:a(e).pageSizes,onOnpagechange:S,onOnsizechange:w},null,8,["total","currentPage","pageSizes"]),a(r).data.length!==0?(P(),x("div",te,[t(A,{dataSource:a(h),columns:a(B),onOntablecolumnurl:D},null,8,["dataSource","columns"])])):M("",!0),t(j,{state:a(_)},null,8,["state"]),q("div",ne,[t(F,{total:a(r).total,currentPage:a(e).currentPage,pageSizes:a(e).pageSizes,onOnpagechange:S,onOnsizechange:w},null,8,["total","currentPage","pageSizes"])]),t(R,{total:a(r).total,currentPage:a(e).currentPage,pageSizes:a(e).pageSizes,onOnpageturning:z},null,8,["total","currentPage","pageSizes"]),t(W,{onOnTo:E})],64)}}};export{Pe as default};
